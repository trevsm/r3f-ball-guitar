(this["webpackJsonpr3f-ball-guitar"]=this["webpackJsonpr3f-ball-guitar"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),c=n(33),i=n.n(c),o=n(16),u=n(51),l=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ambientLight",{intensity:1}))},s=n(9),m=function(e){var t=Object(u.e)((function(){return{mass:0,position:e.position,size:[e.ballSize,32,32]}})),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(a.useRef)(e.startPos);return Object(o.e)((function(){l.current+=e.speed/41e3;var t=[e.radius/2*Math.cos(l.current)/(1+Math.pow(Math.sin(l.current),2)),e.radius*Math.sin(l.current)*Math.cos(l.current)/(1+Math.pow(Math.sin(l.current),2))-3.5,0];i.position.set(t[0],t[1],t[2])})),r.a.createElement("mesh",{ref:c},r.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[e.ballSize,32,32]}),r.a.createElement("meshStandardMaterial",{attach:"material",roughness:0,metalness:.1,color:"peachpuff"}))},f=function(e){for(var t=[],n=0;n<e.count;n++)t.push(r.a.createElement(m,{speed:e.bpm,startPos:n*(2*Math.PI)/e.count,ballSize:e.ballSize,position:e.p0,radius:e.radius}));return t},p=n(29),d=n(31),h="cdefgab",b=["g2","e3","d3","c3","g2","","g2","g2","g2","e3","d3","c3","a2","","a2","f3","e3","d3","b2","","g3","g3","f3","d3","e3","","","","",""],g=function(e){return e.length?20*(h.indexOf(e[0])+"1234".indexOf(e[1])*h.length)/27-20:0},E=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{position:[0,2.5,0],idx:0}),r.a.createElement(O,{position:[0,-.5,0],idx:1}),r.a.createElement(O,{position:[0,-3.5,0],idx:2}),r.a.createElement(O,{position:[0,-6.5,0],idx:3}),r.a.createElement(O,{position:[0,-9.5,0],idx:4}))},O=function(e){var t=Object(a.useRef)((new d.a).toDestination()),n=Object(a.useRef)(e.idx),c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],m=Object(a.useState)(g(b[n.current])),f=Object(s.a)(m,2),h=f[0],E=f[1],O=function(){l(!0),setTimeout((function(){l(!1),j()}),200)},j=function(){n.current+5<b.length?n.current+=5:n.current=e.idx,setTimeout((function(){E(g(b[n.current]))}),500)},M=function(){b[n.current].length&&"running"===d.b.state&&t.current.triggerAttackRelease(b[n.current],"8n")},x=Object(u.c)((function(){return{mass:0,position:e.position,args:[15,.2,.2],type:"Dynamic",onCollide:function(e){M(),O()}}})),S=Object(s.a)(x,2),y=S[0],w=(S[1],Object(p.b)({color:o?"red":"white"}));return r.a.createElement(p.a.mesh,{ref:y,onClick:function(){M(),O()}},r.a.createElement("boxBufferGeometry",{attach:"geometry",args:[h,.5,.5]}),r.a.createElement(p.a.meshStandardMaterial,{attach:"material",color:w.color}))};n(49);function j(){return r.a.createElement(o.a,{shadowMap:!0,gl:{alpha:!1},camera:{position:[0,0,60],fov:60}},r.a.createElement(l,null),r.a.createElement(u.a,null,r.a.createElement(f,{bpm:120,count:3,ballSize:1,p0:[-100,-100,0],radius:30}),r.a.createElement(E,null)))}i.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.838f80a6.chunk.js.map